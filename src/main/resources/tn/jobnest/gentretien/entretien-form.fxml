<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="tn.jobnest.gentretien.controller.EntretienFormController"
      spacing="0" prefWidth="520" prefHeight="720"
      style="-fx-background-color: white;">

    <!-- HEADER BLEU -->
    <VBox style="-fx-background-color: #1E3A5F; -fx-padding: 28 35 22 35;" spacing="4">
        <HBox alignment="CENTER_LEFT" spacing="12">
            <Label text="ðŸ“…"
                   style="-fx-font-size: 26px;"/>
            <VBox spacing="2">
                <Label text="Planifier un Entretien"
                       style="-fx-font-size: 22px; -fx-font-weight: 800; -fx-text-fill: white;"/>
                <Label text="Remplissez les informations de l'entretien"
                       style="-fx-font-size: 12px; -fx-text-fill: rgba(255,255,255,0.6);"/>
            </VBox>
        </HBox>
    </VBox>

    <!-- BANDE DÃ‰GRADÃ‰E ACCENT -->
    <Region prefHeight="4"
            style="-fx-background-color: linear-gradient(to right, #F97316, #2563EB);"/>

    <!-- CORPS DU FORMULAIRE -->
    <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                style="-fx-background-color: white; -fx-background: white; -fx-border-color: transparent;">
        <VBox spacing="18" style="-fx-background-color: white;">
            <padding>
                <Insets top="25" right="35" bottom="10" left="35"/>
            </padding>

            <!-- DATE -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸ“†" style="-fx-font-size: 14px;"/>
                    <Label text="Date de l'entretien" styleClass="form-label"
                           style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                    <Label text="*" style="-fx-text-fill: #EF4444; -fx-font-weight: bold;"/>
                </HBox>
                <DatePicker fx:id="dateEntretien" prefWidth="450"
                            promptText="SÃ©lectionnez une date"
                            style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5;"/>
            </VBox>

            <!-- HEURES -->
            <HBox spacing="16">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="â°" style="-fx-font-size: 13px;"/>
                        <Label text="Heure dÃ©but" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                        <Label text="*" style="-fx-text-fill: #EF4444; -fx-font-weight: bold;"/>
                    </HBox>
                    <TextField fx:id="heureDebut" promptText="14:30"
                               style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-padding: 9 12;"/>
                </VBox>
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="â±" style="-fx-font-size: 13px;"/>
                        <Label text="Heure fin" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                        <Label text="*" style="-fx-text-fill: #EF4444; -fx-font-weight: bold;"/>
                    </HBox>
                    <TextField fx:id="heureFin" promptText="15:30"
                               style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-padding: 9 12;"/>
                </VBox>
            </HBox>

            <!-- TYPE ENTRETIEN -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸŽ¯" style="-fx-font-size: 13px;"/>
                    <Label text="Type d'entretien" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                    <Label text="*" style="-fx-text-fill: #EF4444; -fx-font-weight: bold;"/>
                </HBox>
                <ComboBox fx:id="typeEntretien" prefWidth="450"
                          promptText="Choisissez le type"
                          style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5;"/>
            </VBox>

            <!-- SÃ‰PARATEUR VISUEL -->
            <Separator style="-fx-background-color: #EFF3FB; -fx-opacity: 0.8;"/>

            <!-- LIEU -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸ“" style="-fx-font-size: 13px;"/>
                    <Label text="Lieu (si prÃ©sentiel)" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="lieu"
                               promptText="Ex: 123 Avenue Habib Bourguiba, Tunis"
                               HBox.hgrow="ALWAYS"
                               style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-padding: 9 12;"/>
                    <Button text="ðŸ” VÃ©rifier"
                            onAction="#validerAdresse"
                            prefHeight="38" prefWidth="100"
                            style="-fx-background-color: #F1F5F9; -fx-text-fill: #475569; -fx-font-size: 12px; -fx-font-weight: 700; -fx-background-radius: 10; -fx-cursor: hand; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1.5;"/>
                </HBox>
            </VBox>

            <!-- LIEN VISIO -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸ”—" style="-fx-font-size: 13px;"/>
                    <Label text="Lien VisioconfÃ©rence (si visio)" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="lienVisio"
                               promptText="GÃ©nÃ©rÃ© automatiquement via Google Meet"
                               HBox.hgrow="ALWAYS"
                               style="-fx-font-size: 12px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-padding: 9 12;"/>
                    <Button fx:id="btnGenererMeet"
                            text="âš¡ Meet"
                            onAction="#genererLienMeet"
                            prefHeight="38" prefWidth="80"
                            style="-fx-background-color: #2563EB; -fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: 700; -fx-background-radius: 10; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(37,99,235,0.35), 8, 0, 0, 2);"/>
                </HBox>
            </VBox>

            <!-- SÃ‰PARATEUR -->
            <Separator style="-fx-background-color: #EFF3FB; -fx-opacity: 0.8;"/>

            <!-- STATUT â€” EN LECTURE SEULE (gÃ©rÃ© automatiquement) -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸ“Š" style="-fx-font-size: 13px;"/>
                    <Label text="Statut de l'entretien" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                    <Label text="(automatique)"
                           style="-fx-font-size: 11px; -fx-text-fill: #94A3B8; -fx-font-style: italic;"/>
                </HBox>
                <ComboBox fx:id="statut" prefWidth="450"
                          style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-opacity: 0.7;"/>
                <!-- Info box sous le statut -->
                <HBox spacing="8" alignment="CENTER_LEFT"
                      style="-fx-background-color: #EFF6FF; -fx-background-radius: 8px; -fx-padding: 8 12 8 12;">
                    <Label text="â„¹ï¸" style="-fx-font-size: 13px;"/>
                    <Label text="Le statut est gÃ©rÃ© automatiquement selon les actions du candidat."
                           style="-fx-font-size: 11px; -fx-text-fill: #2563EB; -fx-wrap-text: true;"
                           wrapText="true" prefWidth="360"/>
                </HBox>
            </VBox>

            <!-- NOTE RECRUTEUR -->
            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="ðŸ“" style="-fx-font-size: 13px;"/>
                    <Label text="Note interne (optionnel)" style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1E3A5F;"/>
                </HBox>
                <TextField fx:id="noteRecruteur"
                           promptText="Ex: Candidat trÃ¨s motivÃ©, bonne expÃ©rience..."
                           style="-fx-font-size: 13px; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-width: 1.5; -fx-padding: 9 12;"/>
            </VBox>

            <!-- ESPACE -->
            <Region prefHeight="8"/>
        </VBox>
    </ScrollPane>

    <!-- FOOTER â€” BOUTON ENREGISTRER -->
    <VBox style="-fx-background-color: #F8FAFC; -fx-border-color: #E2E8F0; -fx-border-width: 1 0 0 0; -fx-padding: 16 35 20 35;"
          spacing="10">
        <Label text="* Champs obligatoires"
               style="-fx-font-size: 11px; -fx-text-fill: #94A3B8; -fx-font-style: italic;"/>
        <Button text="ðŸ’¾  Enregistrer l'entretien"
                onAction="#save"
                styleClass="button-save"
                prefHeight="48"
                prefWidth="450"
                style="-fx-background-color: linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%);
                       -fx-text-fill: white;
                       -fx-font-size: 15px;
                       -fx-font-weight: 800;
                       -fx-background-radius: 12px;
                       -fx-cursor: hand;
                       -fx-effect: dropshadow(gaussian, rgba(37,99,235,0.45), 14, 0, 0, 5);"/>
    </VBox>
</VBox>
